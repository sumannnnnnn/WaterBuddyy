<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insights - WaterBuddy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <style>
        .badge {
            position: relative;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(59, 130, 246, 0.3);
            transition: all 0.3s ease;
        }
        
        .badge.earned {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.7), rgba(37, 99, 235, 0.7));
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.5);
        }
        
        .badge i {
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.3);
            transition: color 0.3s ease;
        }
        
        .badge.earned i {
            color: white;
        }
        
        .badge::after {
            content: '';
            position: absolute;
            top: -5px;
            right: -5px;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #10b981;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
        }
        
        .badge.earned::after {
            opacity: 1;
            transform: scale(1);
        }
        
        .badge.earned::before {
            content: 'âœ“';
            position: absolute;
            top: -5px;
            right: -5px;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 1;
        }
        
        .calendar-month {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.3rem;
            max-width: 450px;
            margin: 0 auto;
        }
        
        .calendar-day {
            aspect-ratio: 1/1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.2s ease;
            font-size: 0.75rem;
            min-width: 30px;
            min-height: 30px;
        }
        
        .calendar-day.streak {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
        }
        
        .calendar-day.today {
            border: 2px solid #3b82f6;
            color: #3b82f6;
        }
        
        .calendar-day.empty {
            background: transparent;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Water wave background -->
    <div class="water-wave"></div>
    <div class="parallax-bg"></div>
    
    <!-- Navigation Bar -->
    <nav class="navbar-glass sticky top-0 z-50 w-full px-4 py-2 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-water text-blue-400 text-2xl neon-accent"></i>
                <span class="text-xl font-bold text-blue-300 neon-accent">WaterBuddy</span>
            </div>
            <div class="flex items-center space-x-6">
                <a href="{{ url_for('dashboard') }}" class="font-medium text-gray-300 hover:text-blue-200 transition-colors">Dashboard</a>
                <a href="{{ url_for('insights') }}" class="font-medium text-blue-300 hover:text-blue-200 transition-colors">Insights</a>
                <a href="{{ url_for('settings') }}" class="font-medium text-gray-300 hover:text-blue-200 transition-colors">Settings</a>
                <form action="{{ url_for('logout') }}" method="post">
                    <button type="submit" class="flex items-center space-x-1 text-gray-300 hover:text-blue-200 transition-colors">
                        <span>Logout</span>
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </form>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-6">
        <!-- Page Title -->
        <div class="mb-8 text-center">
            <h1 class="text-2xl font-bold text-blue-300 neon-accent">Your Hydration Insights</h1>
            <p class="text-gray-300">Track your progress and earn badges</p>
        </div>
        
        <!-- Streak Calendar Section -->
        <div class="card-3d p-6 mb-8">
            <h2 class="text-xl font-bold mb-6 text-blue-300 neon-accent">Your Hydration Streak Calendar</h2>
            <div class="mb-4 flex justify-between items-center">
                <h3 class="text-lg font-semibold text-gray-200">{{ current_month }}</h3>
                <div class="flex items-center space-x-2">
                    <span class="text-gray-300">Current Streak:</span>
                    <span class="text-2xl font-bold text-blue-400">{{ streak }} days</span>
                </div>
            </div>
            
            <div class="calendar-month mb-4">
                <div class="text-xs text-gray-400 text-center">Sun</div>
                <div class="text-xs text-gray-400 text-center">Mon</div>
                <div class="text-xs text-gray-400 text-center">Tue</div>
                <div class="text-xs text-gray-400 text-center">Wed</div>
                <div class="text-xs text-gray-400 text-center">Thu</div>
                <div class="text-xs text-gray-400 text-center">Fri</div>
                <div class="text-xs text-gray-400 text-center">Sat</div>
                
                {% for day in calendar_days %}
                    {% if day.empty %}
                        <div class="calendar-day empty"></div>
                    {% elif day.streak %}
                        <div class="calendar-day streak">{{ day.day }}</div>
                    {% elif day.today %}
                        <div class="calendar-day today">{{ day.day }}</div>
                    {% else %}
                        <div class="calendar-day bg-gray-800/40">{{ day.day }}</div>
                    {% endif %}
                {% endfor %}
            </div>
            
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between text-gray-300 text-sm bg-gray-800/40 p-3 rounded-lg">
                <div class="flex items-center mb-2 sm:mb-0">
                    <div class="w-4 h-4 bg-gradient-to-r from-blue-500 to-blue-300 rounded-sm mr-2"></div>
                    <span>Days you reached your water goal</span>
                </div>
                <div class="flex items-center">
                    <div class="w-4 h-4 border border-blue-500 rounded-sm mr-2"></div>
                    <span>Today</span>
                </div>
            </div>
        </div>
        
        <!-- Badges Section -->
        <div class="card-3d p-6 mb-8">
            <h2 class="text-xl font-bold mb-6 text-blue-300 neon-accent">Your Badges</h2>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <!-- Badge 1: First Steps -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.first_day else '' }} mb-3">
                        <i class="fas fa-shoe-prints"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">First Steps</h3>
                    <p class="text-xs text-center text-gray-400">Complete your first day of tracking</p>
                </div>
                
                <!-- Badge 2: One Week Streak -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.week_streak else '' }} mb-3">
                        <i class="fas fa-calendar-week"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">Week Warrior</h3>
                    <p class="text-xs text-center text-gray-400">Maintain a 7-day streak</p>
                </div>
                
                <!-- Badge 3: Perfect Month -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.month_perfect else '' }} mb-3">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">Perfect Month</h3>
                    <p class="text-xs text-center text-gray-400">Meet your goal every day for a month</p>
                </div>
                
                <!-- Badge 4: Overachiever -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.overachiever else '' }} mb-3">
                        <i class="fas fa-award"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">Overachiever</h3>
                    <p class="text-xs text-center text-gray-400">Exceed your goal by 50% for a week</p>
                </div>
                
                <!-- Badge 5: Early Bird -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.early_bird else '' }} mb-3">
                        <i class="fas fa-coffee"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">Early Bird</h3>
                    <p class="text-xs text-center text-gray-400">Log water before 8 AM for 5 days</p>
                </div>
                
                <!-- Badge 6: Consistency King -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.consistency else '' }} mb-3">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">Consistency King</h3>
                    <p class="text-xs text-center text-gray-400">Log water 4+ times a day for a week</p>
                </div>
                
                <!-- Badge 7: Night Owl -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.night_owl else '' }} mb-3">
                        <i class="fas fa-moon"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">Night Owl</h3>
                    <p class="text-xs text-center text-gray-400">Log water after 8 PM for 5 days</p>
                </div>
                
                <!-- Badge 8: Goal Setter -->
                <div class="flex flex-col items-center">
                    <div class="badge {{ 'earned' if badges.goal_setter else '' }} mb-3">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3 class="font-medium text-center text-gray-200">Goal Setter</h3>
                    <p class="text-xs text-center text-gray-400">Update your water goal</p>
                </div>
            </div>
        </div>
        
        <!-- How to Earn Badges Section -->
        <div class="card-3d p-6">
            <h2 class="text-xl font-bold mb-6 text-blue-300 neon-accent">How to Earn Badges</h2>
            
            <div class="space-y-4">
                <div class="bg-gray-800/40 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-300 mb-2">First Steps</h3>
                    <p class="text-gray-300">Complete your first day of tracking your water intake and reaching your daily goal.</p>
                </div>
                
                <div class="bg-gray-800/40 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-300 mb-2">Week Warrior</h3>
                    <p class="text-gray-300">Maintain a perfect streak for 7 consecutive days, reaching your water intake goal each day.</p>
                </div>
                
                <div class="bg-gray-800/40 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-300 mb-2">Perfect Month</h3>
                    <p class="text-gray-300">Achieve your water intake goal every day for an entire month. This is a true test of dedication!</p>
                </div>
                
                <div class="bg-gray-800/40 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-300 mb-2">Overachiever</h3>
                    <p class="text-gray-300">Exceed your daily water intake goal by at least 50% for a full week. Go above and beyond!</p>
                </div>
                
                <div class="bg-gray-800/40 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-300 mb-2">Early Bird & Night Owl</h3>
                    <p class="text-gray-300">Track water intake before 8 AM (Early Bird) or after 8 PM (Night Owl) for 5 days to earn these time-based badges.</p>
                </div>
                
                <div class="bg-gray-800/40 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-300 mb-2">Consistency King</h3>
                    <p class="text-gray-300">Log your water intake at least 4 times throughout the day for a full week, showing your commitment to regular hydration.</p>
                </div>
                
                <div class="bg-gray-800/40 p-4 rounded-lg">
                    <h3 class="font-medium text-blue-300 mb-2">Goal Setter</h3>
                    <p class="text-gray-300">Take control of your hydration by updating your water intake goal in the settings page.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer-glass py-4 px-4 mt-auto">
        <div class="container mx-auto flex justify-between items-center">
            <div class="text-gray-400 text-sm">
                &copy; 2025 WaterBuddy. All rights reserved.
            </div>
            <div class="flex space-x-4 text-gray-400">
                <a href="#" class="hover:text-blue-300 transition-colors"><i class="fab fa-twitter"></i></a>
                <a href="#" class="hover:text-blue-300 transition-colors"><i class="fab fa-instagram"></i></a>
                <a href="#" class="hover:text-blue-300 transition-colors"><i class="fab fa-facebook"></i></a>
            </div>
        </div>
    </footer>
</body>
</html> 